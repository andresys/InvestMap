Rails.application.routes.draw do
  root to: 'application#frontend'

  scope :api, constraints: { format: 'json' }, defaults: { format: 'json' } do 
    scope :v1 do
      devise_for  :users, 
                  path: 'account',
                  path_names: { 
                    sign_in: 'login', 
                    sign_out: 'logout', 
                    registration: 'registration'
                  } ,
                  controllers: { 
                    sessions: 'sessions',                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
                  #  registrations: 'registrations'
                  }
      resources :users do
      #  get 'current', on: :collection
      end
      #resources :invest_objects
    end
    match "*path", to: 'application#not_found', via: :all
  end

  match "*path", to: 'application#frontend', via: :all

  # For details on the DSL available within this file, see https://guides.rubyonrails.org/routing.html
end